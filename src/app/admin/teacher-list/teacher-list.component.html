<div class="admin-container">
  <!-- Sidebar -->
  <app-admin-sidebar></app-admin-sidebar>

  <!-- Main Content -->
  <div class="main-content">
    <div class="content-header">
      <h2>Teacher Task Approvals</h2>
    </div>

    <div class="task-table-container">
      <table class="task-table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Subject</th>
            <th>Task Type</th>
            <th>Quantity</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let task of tasks">
            <td>{{ task.teacherName }}</td>
            <td>{{ task.teacherEmail }}</td>
            <td>{{ task.subject }}</td>
            <td>{{ task.type }}</td>
            <td>{{ task.quantity }}</td>
            <td>
              <span class="status-badge" [ngClass]="{
                'pending': task.status === 'Pending',
                'approved': task.status === 'Approved',
                'rejected': task.status === 'Rejected'
              }">{{ task.status }}</span>
            </td>
            <td class="actions">
              <button
                *ngIf="task.status === 'Pending'"
                class="btn-approve"
                (click)="approveTask(task.id)">Approve</button>

              <button
                *ngIf="task.status === 'Pending'"
                class="btn-reject"
                (click)="openRejectModal(task)">Reject</button>

            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Reject Modal -->
    <div *ngIf="showRejectModal" class="modal-overlay">
      <div class="modal">
        <h3>Rejection Reason</h3>
        <textarea [(ngModel)]="rejectionReason" rows="3"></textarea>
        <div class="modal-actions">
          <button class="btn-cancel" (click)="cancelReject()">Cancel</button>
          <button class="btn-confirm" (click)="confirmReject()">Confirm</button>
        </div>
      </div>
    </div>
  </div>
</div>
